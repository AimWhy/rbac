<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: role.js</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"default":{"outputSourceFiles":true},"monospaceLinks":false,"cleverLinks":false};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Base">
            <span class="title">
                <a href="Base.html">Base</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Base#name"><a href="Base.html#name">name</a></li>
            
                <li data-name="Base#rbac"><a href="Base.html#rbac">rbac</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Base#remove"><a href="Base.html#remove">remove</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Permission">
            <span class="title">
                <a href="Permission.html">Permission</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Permission#action"><a href="Permission.html#action">action</a></li>
            
                <li data-name="Permission#name"><a href="Permission.html#name">name</a></li>
            
                <li data-name="Permission#rbac"><a href="Permission.html#rbac">rbac</a></li>
            
                <li data-name="Permission#resource"><a href="Permission.html#resource">resource</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Permission.createName"><a href="Permission.html#createName">createName</a></li>
            
                <li data-name="Permission.isValidName"><a href="Permission.html#isValidName">isValidName</a></li>
            
                <li data-name="Permission#can"><a href="Permission.html#can">can</a></li>
            
                <li data-name="Permission#remove"><a href="Permission.html#remove">remove</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RBAC">
            <span class="title">
                <a href="RBAC.html">RBAC</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RBAC#options"><a href="RBAC.html#options">options</a></li>
            
                <li data-name="RBAC#storage"><a href="RBAC.html#storage">storage</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RBAC.getPermissionNames"><a href="RBAC.html#getPermissionNames">getPermissionNames</a></li>
            
                <li data-name="RBAC#add"><a href="RBAC.html#add">add</a></li>
            
                <li data-name="RBAC#can"><a href="RBAC.html#can">can</a></li>
            
                <li data-name="RBAC#canAll"><a href="RBAC.html#canAll">canAll</a></li>
            
                <li data-name="RBAC#canAny"><a href="RBAC.html#canAny">canAny</a></li>
            
                <li data-name="RBAC#create"><a href="RBAC.html#create">create</a></li>
            
                <li data-name="RBAC#createPermission"><a href="RBAC.html#createPermission">createPermission</a></li>
            
                <li data-name="RBAC#createPermissions"><a href="RBAC.html#createPermissions">createPermissions</a></li>
            
                <li data-name="RBAC#createRole"><a href="RBAC.html#createRole">createRole</a></li>
            
                <li data-name="RBAC#createRoles"><a href="RBAC.html#createRoles">createRoles</a></li>
            
                <li data-name="RBAC#exists"><a href="RBAC.html#exists">exists</a></li>
            
                <li data-name="RBAC#existsPermission"><a href="RBAC.html#existsPermission">existsPermission</a></li>
            
                <li data-name="RBAC#existsRole"><a href="RBAC.html#existsRole">existsRole</a></li>
            
                <li data-name="RBAC#get"><a href="RBAC.html#get">get</a></li>
            
                <li data-name="RBAC#getPermission"><a href="RBAC.html#getPermission">getPermission</a></li>
            
                <li data-name="RBAC#getPermission"><a href="RBAC.html#getPermission">getPermission</a></li>
            
                <li data-name="RBAC#getPermissions"><a href="RBAC.html#getPermissions">getPermissions</a></li>
            
                <li data-name="RBAC#getRole"><a href="RBAC.html#getRole">getRole</a></li>
            
                <li data-name="RBAC#getRoles"><a href="RBAC.html#getRoles">getRoles</a></li>
            
                <li data-name="RBAC#getScope"><a href="RBAC.html#getScope">getScope</a></li>
            
                <li data-name="RBAC#grant"><a href="RBAC.html#grant">grant</a></li>
            
                <li data-name="RBAC#grantByName"><a href="RBAC.html#grantByName">grantByName</a></li>
            
                <li data-name="RBAC#grants"><a href="RBAC.html#grants">grants</a></li>
            
                <li data-name="RBAC#hasRole"><a href="RBAC.html#hasRole">hasRole</a></li>
            
                <li data-name="RBAC#remove"><a href="RBAC.html#remove">remove</a></li>
            
                <li data-name="RBAC#removeByName"><a href="RBAC.html#removeByName">removeByName</a></li>
            
                <li data-name="RBAC#revoke"><a href="RBAC.html#revoke">revoke</a></li>
            
                <li data-name="RBAC#revokeByName"><a href="RBAC.html#revokeByName">revokeByName</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Role">
            <span class="title">
                <a href="Role.html">Role</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Role#name"><a href="Role.html#name">name</a></li>
            
                <li data-name="Role#rbac"><a href="Role.html#rbac">rbac</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Role#can"><a href="Role.html#can">can</a></li>
            
                <li data-name="Role#canAll"><a href="Role.html#canAll">canAll</a></li>
            
                <li data-name="Role#canAny"><a href="Role.html#canAny">canAny</a></li>
            
                <li data-name="Role#getScope"><a href="Role.html#getScope">getScope</a></li>
            
                <li data-name="Role#grant"><a href="Role.html#grant">grant</a></li>
            
                <li data-name="Role#hasRole"><a href="Role.html#hasRole">hasRole</a></li>
            
                <li data-name="Role#remove"><a href="Role.html#remove">remove</a></li>
            
                <li data-name="Role#revoke"><a href="Role.html#revoke">revoke</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Storage">
            <span class="title">
                <a href="Storage.html">Storage</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Storage#rbac"><a href="Storage.html#rbac">rbac</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Storage#add"><a href="Storage.html#add">add</a></li>
            
                <li data-name="Storage#exists"><a href="Storage.html#exists">exists</a></li>
            
                <li data-name="Storage#existsPermission"><a href="Storage.html#existsPermission">existsPermission</a></li>
            
                <li data-name="Storage#existsRole"><a href="Storage.html#existsRole">existsRole</a></li>
            
                <li data-name="Storage#get"><a href="Storage.html#get">get</a></li>
            
                <li data-name="Storage#getGrants"><a href="Storage.html#getGrants">getGrants</a></li>
            
                <li data-name="Storage#getPermission"><a href="Storage.html#getPermission">getPermission</a></li>
            
                <li data-name="Storage#getPermissions"><a href="Storage.html#getPermissions">getPermissions</a></li>
            
                <li data-name="Storage#getRole"><a href="Storage.html#getRole">getRole</a></li>
            
                <li data-name="Storage#getRoles"><a href="Storage.html#getRoles">getRoles</a></li>
            
                <li data-name="Storage#grant"><a href="Storage.html#grant">grant</a></li>
            
                <li data-name="Storage#remove"><a href="Storage.html#remove">remove</a></li>
            
                <li data-name="Storage#revoke"><a href="Storage.html#revoke">revoke</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="role.js.html">Source: role.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source "><code>import Base from './base';
import Permission from './permission';

export default class Role extends Base {
	/**
	 * Role constructor
	 * @constructor Role
	 * @extends {Base}
	 * @param  {RBAC}     rbac       Instance of the RBAC
	 * @param  {String}   name       Name of the role
	 * @param  {Boolean}  [add=true] True if you need to save it to storage
	 * @param  {Function} cb         Callback function after add
	 */
	constructor(rbac, name, add, cb) {
		if(typeof add === 'function') {
			cb = add;
			add = true;
		}

		if(!Permission.isValidName(name)) {
			return cb(new Error('Role has no valid name'));
		}

		super(rbac, name, add, cb);
	}

	/**
	 * Add role or permission to current role
	 * @method Role#grant
	 * @param  {Role|Permission} item	Instance of role or permission
	 * @param  {Function} cb	        Callback function
	 * @return {Role}                	Return current instance of role
	 */
	grant(item, cb) {
		this.rbac.grant(this, item, cb);
		return this;
	}

	/**
	 * Remove role or permission from current role
	 * @method Role#revoke 
	 * @param  {Role|Permission} item	Instance of role or permission
	 * @param  {Function} cb	        Callback function
	 * @return {Role}                	Return current instance of role
	 */
	revoke(item, cb) {
		this.rbac.revoke(this, item, cb);
		return this;
	}

	/**
	 * Return true if contains permission
	 * @method Role#can 
	 * @param  {String}  action  	Name of action
	 * @param  {String}  resource	Name of resource
	 * @param  {Function} cb	    Callback function
	 * @return {Role}            	Return current instance of role          
	 */
	can(action, resource, cb) {
		this.rbac.can(this.name, action, resource, cb);
		return this;
	}

	/**
	 * Check if the role has any of the given permissions
	 * @method Role#canAny 
	 * @param  {Array} permissions	List of permissions. Each has structure (String action, String resource)
	 * @param  {Function} cb	    Callback function
	 * @return {Role}             	Return current instance of role
	 */
	canAny(permissions, cb) {
		this.rbac.canAny(this.name, permissions, cb);
		return this;
	}

	/**
	 * Check if the model has all of the given permissions
	 * @method Role#canAll 
	 * @param  {Array}  permissions	List of permissions. Each has structure (String action, String resource)
	 * @param  {Function} cb	    Callback function
	 * @return {Role}              	Return current instance of role            
	 */
	canAll(permissions, cb) {
		this.rbac.canAll(this.name, permissions, cb);
		return this;
	}

	/**
	 * Return true if the current role contains the specified role name
	 * @method Role#hasRole 
	 * @param  {String} roleChildName	Name of role
	 * @param  {Function} cb	        Callback function
	 * @return {Role}                	Return current instance of role
	 */
	hasRole(roleChildName, cb) {
		this.rbac.hasRole(this.name, roleChildName, cb);
		return this;
	}

	/**
	 * Return array of permission assigned to actual role 
	 * @method Role#getScope 
	 * @param  {Function} cb	Callback function
	 * @return {Role}       	Return current instance of role
	 */
	getScope(cb) {
		this.rbac.getScope(this.name, cb);
		return this;
	}
}</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Thu Jun 25 2015 14:36:56 GMT+1200 (New Zealand Standard Time)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
